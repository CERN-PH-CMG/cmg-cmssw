{
  vector< string > list;
list.push_back("h_Pthat_data;1");
list.push_back("h_DijetMass_data;1");
list.push_back("h_DijetMass_data_up;1");
list.push_back("h_DijetMass_data_up;1");
list.push_back("h_DijetMass_MI_nPVe1_data;1");
list.push_back("h_DijetMass_MI_nPVg1_data;1");
list.push_back("h_Eta_Phi_Scatter;1");
list.push_back("h_Eta_Phi_Scatter_1;1");
list.push_back("h_Eta_Phi_Scatter_2;1");
list.push_back("h_MET_over_sumEt_data;1");
list.push_back("h_EMF_data;1");
list.push_back("h_DPhi_data;1");
list.push_back("h_Eta_data;1");
list.push_back("h_Eta_data_1;1");
list.push_back("h_Eta_data_2;1");
list.push_back("h_DEta_data;1");
list.push_back("h_Phi_data;1");
list.push_back("h_Phi_data_1;1");
list.push_back("h_Phi_data_2;1");
list.push_back("h_n90hits_data;1");
list.push_back("h_fHPD_data;1");
list.push_back("h_corPt_data;1");
list.push_back("h_corPt_data_1;1");
list.push_back("h_corPt_data_2;1");
list.push_back("h_nTrkVtx_data;1");
list.push_back("h_nTrkCalo_data;1");
list.push_back("h_DijetMass_MI_nPVl1_data_pf;1");
list.push_back("h_DijetMass_MI_nPVl3_data_pf;1");
list.push_back("h_DijetMass_MI_nPVl6_data_pf;1");
list.push_back("h_DijetMass_MI_nPVg6_data_pf;1");
list.push_back("h_DijetMass_MI_nPVg10_data_pf;1");
list.push_back("h_Nvx_pf;1");
list.push_back("h_nVtx_DijetMass_pf;1");
list.push_back("h_nVtx_fCh_pf;1");
list.push_back("h_nVtx_fNh_pf;1");
list.push_back("h_nVtx_fPh_pf;1");
list.push_back("h_nVtx_fEl_pf;1");
list.push_back("h_nVtx_fMu_pf;1");
list.push_back("h_DijetMass_data_pf;1");
list.push_back("h_DijetMass_data_pf_up;1");
list.push_back("h_DijetMass_data_pf_do;1");
list.push_back("h_DEta_data_pf;1");
list.push_back("h_DPhi_data_pf;1");
list.push_back("h_Eta_data_pf;1");
list.push_back("h_Eta_data_pf_1;1");
list.push_back("h_Eta_data_pf_2;1");
list.push_back("h_Phi_data_pf;1");
list.push_back("h_Phi_data_pf_1;1");
list.push_back("h_Phi_data_pf_2;1");
list.push_back("h_corPt_data_pf;1");
list.push_back("h_corPt_data_pf_1;1");
list.push_back("h_corPt_data_pf_2;1");
list.push_back("h_fCh_data_pf;1");
list.push_back("h_fNh_data_pf;1");
list.push_back("h_fPh_data_pf;1");
list.push_back("h_fEl_data_pf;1");
list.push_back("h_fMu_data_pf;1");
list.push_back("h_fCh_data_pf_1;1");
list.push_back("h_fNh_data_pf_1;1");
list.push_back("h_fPh_data_pf_1;1");
list.push_back("h_fEl_data_pf_1;1");
list.push_back("h_fMu_data_pf_1;1");
list.push_back("h_fCh_data_pf_2;1");
list.push_back("h_fNh_data_pf_2;1");
list.push_back("h_fPh_data_pf_2;1");
list.push_back("h_fEl_data_pf_2;1");
list.push_back("h_fMu_data_pf_2;1");
list.push_back("h_MET_over_sumEt_fat_data;1");
list.push_back("h_DijetMass_data_fat;1");
list.push_back("h_DijetMass_data_fat_mu30;1");
list.push_back("h_DijetMass_data_fat_mu20;1");
list.push_back("h_DijetMass_data_fat_mu10;1");
list.push_back("h_DijetMass_data_fat_e30;1");
 list.push_back("h_DijetMass_data_fat_e20;1");
list.push_back("h_DijetMass_data_fat_e10;1");
list.push_back("h_DijetMass_data_fat_up;1");
list.push_back("h_DijetMass_data_fat_mu30_up;1");
list.push_back("h_DijetMass_data_fat_mu20_up;1");
list.push_back("h_DijetMass_data_fat_mu10_up;1");
list.push_back("h_DijetMass_data_fat_do;1");
list.push_back("h_DijetMass_data_fat_mu30_do;1");
list.push_back("h_DijetMass_data_fat_mu20_do;1");
list.push_back("h_DijetMass_data_fat_mu10_do;1");
list.push_back("h_DijetMass_Trigger_data_fat;1");
list.push_back("h_DijetMass_Trigger_data_fat_Corr;1");
  list.push_back("h_DijetMass_MI_nPVl1_data_fat;1");
list.push_back("h_DijetMass_MI_nPVl3_data_fat;1");
list.push_back("h_DijetMass_MI_nPVl6_data_fat;1");
list.push_back("h_DijetMass_MI_nPVg6_data_fat;1");
list.push_back("h_DijetMass_MI_nPVg10_data_fat;1");
list.push_back("h_Nvx_fat;1");
list.push_back("h_nVtx_DijetMass_fat;1");
list.push_back("h_DpT_over_pT_data_fat_1;1");
list.push_back("h_DpT_data_fat_1;1");
list.push_back("h_DpT_over_pT_vs_pT_data_fat_1;1");
list.push_back("h_Deta_data_fat_1;1");
list.push_back("h_Dphi_data_fat_1;1");
list.push_back("h_DpT_over_pT_data_fat_2;1");
list.push_back("h_DpT_data_fat_2;1");
list.push_back("h_DpT_over_pT_vs_pT_data_fat_2;1");
list.push_back("h_Deta_data_fat_2;1"); 
list.push_back("h_Dphi_data_fat;1");
list.push_back("h_Dphi_data_fat_2;1"); 
list.push_back("h_Dphi_data_fat;1");
list.push_back("h_DpT_over_pT_data_fat;1");
list.push_back("h_DpT_data_fat;1");
list.push_back("h_DpT_over_pT_vs_pT_data_fat;1");
list.push_back("h_Deta_data_fat;1");
list.push_back("h_Dphi_data_fat;1");
list.push_back("h_Nrad_1_fat;1");
list.push_back("h_Nrad_2_fat;1");
list.push_back("h_Nrad_1and2_fat;1");
list.push_back("h_DEta_Mass_data_fat;1");
list.push_back("h_DEta_Mass_data_large_fat;1");
list.push_back("h_Chi_Mass_data_fat;1");
list.push_back("h_Chi_Mass_data_fat_mu10;1");
list.push_back("h_Chi_Mass_data_fat_mu20;1");
list.push_back("h_Chi_Mass_data_fat_mu30;1");
list.push_back("h_Chi_Mass_data_fat_e10;1");
list.push_back("h_Chi_Mass_data_fat_e20;1");
list.push_back("h_Chi_Mass_data_fat_e30;1");
list.push_back("h_Chi_Mass_data_large_fat;1");
list.push_back("h_Chi_data_fat;1");
list.push_back("h_DEta_data_fat;1");
list.push_back("h_DPhi_data_fat;1");
list.push_back("h_Eta_data_fat;1");
list.push_back("h_Eta_data_fat_1;1");
list.push_back("h_Eta_data_fat_2;1");
list.push_back("h_Phi_data_fat;1");
list.push_back("h_Phi_data_fat_1;1");
list.push_back("h_Phi_data_fat_2;1");
list.push_back("h_corPt_data_fat;1");
list.push_back("h_corPt_data_fat_1;1");
list.push_back("h_corPt_data_fat_2;1");
list.push_back("h_FatDiJet_EventYield;1");
list.push_back("h_PFDiJet_EventYield;1");
list.push_back("h_Cuts_Fat;1");
list.push_back("h_Cuts_Fat_Names;1");



 TFile *_file0 = new TFile("out/res/histograms_summer11_mc_ak7.root", "RECREATE");
TFile *_file1 = TFile::Open("out/res/histograms_summer11_mc_170to300_ak7.root");
TFile *_file2 = TFile::Open("out/res/histograms_summer11_mc_300to470_ak7.root");
TFile *_file3 = TFile::Open("out/res/histograms_summer11_mc_470to600_ak7.root");
TFile *_file4 = TFile::Open("out/res/histograms_summer11_mc_600to800_ak7.root");
TFile *_file5 = TFile::Open("out/res/histograms_summer11_mc_800to1000_ak7.root");
TFile *_file6 = TFile::Open("out/res/histograms_summer11_mc_1000to1400_ak7.root");
TFile *_file7 = TFile::Open("out/res/histograms_summer11_mc_1400to1800_ak7.root");
TFile *_file8 = TFile::Open("out/res/histograms_summer11_mc_1800toinf_ak7.root");


for (int j = 0; j < list.size(); j++){

  cout << list[j].c_str() << endl;

  TH1* QCD_Z2_170to300 = (TH1* ) _file1->Get(list[j].c_str());
  TH1* QCD_Z2_300to470 = (TH1* ) _file2->Get(list[j].c_str());
  TH1* QCD_Z2_470to600 = (TH1* ) _file3->Get(list[j].c_str());
  TH1* QCD_Z2_600to800 = (TH1* ) _file4->Get(list[j].c_str());
  TH1* QCD_Z2_800to1000 = (TH1* ) _file5->Get(list[j].c_str());
  TH1* QCD_Z2_1000to1400 = (TH1* ) _file6->Get(list[j].c_str());
  TH1* QCD_Z2_1400to1800 = (TH1* ) _file7->Get(list[j].c_str());
  TH1* QCD_Z2_1800toinf = (TH1* ) _file8->Get(list[j].c_str());


  //  float events[8] = {5684160.0, 6336960.0, 4034162.0, 3939510.0, 4161710.0, 2169144.0, 2043020.0, 1058720.0};
  //float events[8] = { 2.63377e+07, 3.71793e+07, 2.36974e+07, 2.51463e+07, 2.41864e+07, 4.71894e+06, 1.23429e+07, 1.63987e+06};
  float events[8] = { 5.972300e+06, 6.30528e+06, 3.99298e+06 , 4.2242e+06, 4.36015e+06   , 1.21863e+06 , 2.05816e+06, 278220};
                    

  //float events[8] = {5671529., 6308796., 3050637., 3939510., 4161710., 2169144., 2043020., 1056368.};
  float xs[8] = {2.426e+04, 1.168e+03, 7.022e+01, 1.555e+01, 1.844e+00, 3.321e-01, 1.087e-02, 3.575e-04};

  QCD_Z2_170to300->Scale(xs[0]/events[0]);
  QCD_Z2_300to470->Scale(xs[1]/events[1]);
  QCD_Z2_470to600->Scale(xs[2]/events[2]);
  QCD_Z2_600to800->Scale(xs[3]/events[3]);
  QCD_Z2_800to1000->Scale(xs[4]/events[4]);
  QCD_Z2_1000to1400->Scale(xs[5]/events[5]);
  QCD_Z2_1400to1800->Scale(xs[6]/events[6]);
  QCD_Z2_1800toinf->Scale(xs[7]/events[7]);

  QCD_Z2_170to300->Add(QCD_Z2_300to470);
  QCD_Z2_170to300->Add(QCD_Z2_470to600);
  QCD_Z2_170to300->Add(QCD_Z2_600to800);
  QCD_Z2_170to300->Add(QCD_Z2_800to1000);
  QCD_Z2_170to300->Add(QCD_Z2_1000to1400);
  QCD_Z2_170to300->Add(QCD_Z2_1400to1800);
  QCD_Z2_170to300->Add(QCD_Z2_1800toinf);

  size_t s = list[j].find_first_of(";1");
  list[j].replace(s, 2, "");


  _file0->cd();

  QCD_Z2_170to300->Write(list[j].c_str());

 }

 _file0->Close();


}
//                             170to300     300to470      470to600     600to800    800to1000      1000to1400     1400to1800   1800toinf

//cout << "float events[8] = { 5.57024e+06, 6.30528e+06, 3.99298e+06 , 4.2242e+06, 4.36015e+06   , 1.21863e+06 , 2.05816e+06, 278220)
