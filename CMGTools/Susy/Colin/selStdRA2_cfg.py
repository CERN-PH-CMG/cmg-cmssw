import FWCore.ParameterSet.Config as cms

process = cms.Process("COPY")

pickRelVal = False

import datetime,os
d = datetime.datetime.today()
tag = os.getenv('USER') + '_' + d.strftime('%d%h%y-%Hh%Mm%Ss')



# process.source.fileNames = ['file:2011/Loukas/HT_PromptReco_42X_pfMETgt150_AND_pfMETovCaloMETgt05.root']
# High MHT cuts only
# process.source.eventsToProcess  = cms.untracked.VEventRange("166408:887:1111839383", "167807:1085:1360573388", "167807:237:292279224", "166049:257:339177021", "166554:242:285251939", 
#    "167281:252:321568659", "166512:1029:1195756956", "165415:1346:1594777376", "167675:245:268687499", "167675:854:901296707", 
#    "167913:210:223858414", "167898:233:235117681", "166380:880:969589698", "166763:343:382348162", "166950:110:127740977", 
#    "165570:174:231241493", "165570:157:206640799", "165570:363:485628899", "166923:161:177551447", "166462:186:178633172", 
#    "166563:137:147841995", "166841:137:149460393", "166841:888:929214969", "166033:777:1061889100", "166859:70:48357129", 
#    "166699:354:380002939", "166699:699:745620764", "166699:883:927560823", "166890:284:314687547", "167098:289:303387081", 
#    "166922:10:11181386", "165633:271:348405804", "166960:24:20016067")


process.load("CMGTools.Common.sources.HT.Run2011A_HighMET_PromptSkim_v4.RAW_RECO.source_160404_167913_cff")

# rejected by beam halo, but not by PBNR
# process.source.eventsToProcess = cms.untracked.VEventRange("166960:75:67598316", "165993:1609:1671377126", "167740:82:53357625", "166699:498:539558074")

# rejected by had PBNR, but not by beam halo:
# process.source.eventsToProcess = cms.untracked.VEventRange("166429:38:16903548", "165487:125:160814947", "167282:188:191950444", "167676:139:126636158", "165567:390:485635245", 
#    "166554:474:566681262", "166554:499:596554731", "166033:947:1270957216", "165993:154:157383124")

#process.source.fileNames = ['/store/relval/CMSSW_4_2_3/RelValLM1_sfts/GEN-SIM-RECO/MC_42_V12-v2/0062/84905E5D-0E7B-E011-8EF2-003048D15E14.root', '/store/relval/CMSSW_4_2_3/RelValLM1_sfts/GEN-SIM-RECO/MC_42_V12-v2/0062/CA07E500-137B-E011-B9BA-0026189438AA.root', '/store/relval/CMSSW_4_2_3/RelValLM1_sfts/GEN-SIM-RECO/MC_42_V12-v2/0062/ECC06B4B-0C7B-E011-AC75-002618943916.root', '/store/relval/CMSSW_4_2_3/RelValLM1_sfts/GEN-SIM-RECO/MC_42_V12-v2/0063/2EA656A0-B37B-E011-BCD8-003048678DA2.root', '/store/relval/CMSSW_4_2_3/RelValLM1_sfts/GEN-SIM-RECO/MC_42_V12-v2/0063/BA3F879F-8B7B-E011-93CE-001A928116E0.root']

process.source.eventsToProcess = cms.untracked.VEventRange()

process.source.eventsToProcess.extend([
"166408:76:59729105",
"166408:133:139953609",
"166408:136:145235650",
"166408:229:276214177",
"166408:242:294063342",
"166408:231:278414778",
"166408:334:419518930",
"166408:461:587555191",
"166408:416:528203786",
"166408:541:691052421",
"166408:545:695959875",
"166408:548:699424901",
"166408:605:769774569",
"166408:708:897666995",
"166408:726:920338247",
"166408:753:952670748",
"165487:44:54456726",
"166408:844:1061864238",
"166408:879:1102927628",
"165487:97:123645112",
"165487:106:136064858",
"166408:999:1241961772",
"166408:1093:1348432331",
"166408:1087:1341726756",
"166408:1105:1361288442",
"166408:1113:1370628153",
"166408:1142:1403232569",
"166408:1132:1391864018",
"166408:1179:1443216807",
"166408:1205:1471514642",
"166438:170:191166940",
"166438:95:95980946",
"166438:105:108803967",
"166438:373:430829345",
"166438:791:885888086",
"166438:418:481969899",
"166438:434:500151348",
"166438:301:348478863",
"166438:783:877761617",
"165506:153:146615579",
"166438:688:778909290",
"166438:319:369047825",
"166438:593:676477066",
"166438:565:646047087",
"166438:697:787925838",
"166438:422:486005657",
"166462:88:61410188",
"166462:125:105713360",
"166462:325:337480793",
"166462:331:343380483",
"166462:226:224818233",
"166462:240:241018627",
"166462:306:315769391",
"166462:363:379305786",
"166462:469:486758158",
"166462:420:434270834",
"166502:70:58150307",
"166512:169:193366662",
"166512:96:95373254",
"166512:308:372105289",
"166512:262:312993138",
"166512:273:327982246",
"166512:362:439554349",
"166512:465:565681874",
"166512:482:586078454",
"166512:580:701281059",
"166512:551:667734608",
"166512:542:657287377",
"166512:601:725908028",
"166512:677:813810931",
"166512:797:948225951",
"165617:32:33892047",
"166512:984:1148599328",
"166512:857:1013106406",
"166512:956:1118710864",
"166512:956:1118849394",
"166512:1035:1202025383",
"166512:1026:1192378814",
"166512:1145:1315226472",
"166512:1219:1389504965",
"166512:1416:1578969423",
"166512:1745:1882541830",
"166512:1522:1679053029",
"165617:142:195827080",
"166512:1795:1925885679",
"166514:6:3146784",
"166514:49:41323489",
"166514:178:153450072",
"166514:272:233696824",
"166514:272:233598339",
"166554:71:55615401",
"166554:51:27845302",
"166554:313:372332836",
"166554:315:375599323",
"166554:185:211268314",
"165617:169:232767836",
"166554:339:402684688",
"166554:443:528825825",
"166554:499:596554731",
"166554:625:744635246",
"166554:645:767685265",
"166554:694:823527341",
"166554:706:837698332",
"166554:678:805175159",
"166563:67:71751020",
"166563:731:724608780",
"166563:731:724963344",
"166563:107:114797661",
"166563:693:689081359",
"166565:19:15880395",
"166565:25:21385193",
"166565:219:205444826",
"166565:516:469377716",
"166565:506:460499339",
"166565:507:461322079",
"166565:630:568409131",
"165620:14:12758585",
"166565:671:603801158",
"166565:707:634816146",
"166565:695:624697892",
"166565:812:723393645",
"166699:66:35709988",
"166699:104:83508769",
"166699:108:88120712",
"166699:74:45309889",
"166699:171:165597545",
"166699:179:175465689",
"166699:226:232241918",
"166699:248:258046803",
"166699:257:268698653",
"166699:332:355193047",
"166699:891:935736798",
"166699:415:448024882",
"166699:442:478102748",
"166699:508:549840594",
"166699:535:579477661",
"166699:567:612762777",
"165633:81:75289904",
"165633:85:81546589",
"165633:87:84464673",
"166699:597:645335495",
"166699:580:627381681",
"166699:689:735958197",
"166699:657:707475770",
"166699:684:730631288",
"166699:727:773648730",
"166699:839:884637790",
"165633:115:125334940",
"166699:806:852255490",
"166763:48:20523013",
"166763:76:57705907",
"166763:94:80543359",
"166763:221:238607013",
"166763:222:238972517",
"166763:144:144090806",
"166763:157:159559962",
"166763:306:338843669",
"166763:331:368314072",
"166763:409:458627267",
"166763:438:490767458",
"166763:467:523649467",
"166763:583:651091484",
"166763:635:706348843",
"165633:183:223447313",
"166781:381:454667323",
"166781:283:336369724",
"166782:51:56061177",
"166782:79:87343550",
"166782:107:119365879",
"166782:120:134695951",
"166782:209:232273757",
"166782:213:237192465",
"166782:244:270299306",
"166782:486:525882581",
"166787:176:161506738",
"166787:179:164223082",
"166787:123:112486022",
"166787:201:184181722",
"166787:290:264339910",
"166787:222:203066894",
"165633:244:310582573",
"166787:313:284546446",
"166839:93:94055132",
"166839:150:164327895",
"166839:191:215172057",
"166839:202:228345387",
"166841:325:350993834",
"166841:187:204028301",
"166841:436:472269418",
"166841:445:482355083",
"166841:489:529541464",
"166841:492:533152974",
"166841:516:558503667",
"166841:558:601583713",
"166841:579:623932395",
"166841:642:688084161",
"166841:998:1029103842",
"166841:831:875168076",
"165633:361:470071755",
"165633:363:473212754",
"166859:89:73846533",
"166859:197:217687644",
"166859:230:261206614",
"166859:377:445315647",
"166859:404:478252034",
"166859:346:406334402",
"166859:368:434047863",
"166864:34:34370702",
"165364:197:243507754",
"166864:103:107739847",
"166864:108:113235136",
"166864:166:175414896",
"165633:445:583371716",
"165633:495:647718927",
"166864:361:373594929",
"166864:351:364373934",
"166864:493:463373817",
"166888:75:55553616",
"166888:131:124828545",
"166888:87:72578238",
"166888:124:115215160",
"166888:138:134775720",
"166888:264:303906948",
"166888:282:327860717",
"166034:14:12518578",
"166888:325:383403225",
"166888:318:375457039",
"166888:300:350682916",
"166888:374:447638959",
"166889:32:35326246",
"166889:60:69675527",
"166889:216:254937557",
"166889:221:261347701",
"166889:122:143192271",
"166889:145:170897401",
"166890:5:2402930",
"166890:80:89390307",
"166034:108:115880435",
"166890:108:120791427",
"166890:135:151018750",
"166890:144:161141190",
"166890:232:258341613",
"166890:283:313825095",
"166890:367:403059948",
"166890:376:412905271",
"166890:383:420839642",
"166895:14:10973015",
"166895:46:40836042",
"166895:117:106832835",
"166895:169:155832860",
"166895:227:208496024",
"166895:470:428143741",
"166923:21:22000034",
"166923:115:126216042",
"166923:139:152760489",
"166923:222:242944033",
"166923:292:317366054",
"166923:393:423673320",
"166946:87:81960865",
"166946:121:128721150",
"166946:155:174826095",
"166950:251:303475917",
"166950:375:451925685",
"166950:387:465834144",
"166950:437:524600199",
"166950:418:502003643",
"166950:478:571277353",
"166950:579:685406457",
"166950:730:851400809",
"166950:917:1047291681",
"166950:981:1111550354",
"166950:983:1114305772",
"166950:1062:1192750411",
"166163:16:16757292",
"166950:1300:1425631862",
"166950:1337:1460867332",
"166950:1351:1470836756",
"166950:1398:1514466422",
"166950:1371:1489653871",
"167039:20:21049387",
"166163:28:27722496",
"167041:34:37355145",
"167041:50:55259512",
"167041:62:69818521",
"167041:84:95568888",
"167041:325:364721055",
"167041:328:368092439",
"166164:7:5838944",
"167041:369:408922412",
"167041:656:706501735",
"167041:431:474931798",
"167041:482:528880768",
"167041:497:544407641",
"167041:582:632231020",
"167041:609:658929592",
"166374:88:88080809",
"166374:78:74574660",
"166374:125:139984493",
"166374:143:164358988",
"166429:43:23864655",
"166486:92:64579438",
"166486:64:32107087",
"166486:97:67817032",
"166486:130:105246596",
"166701:75:66205699",
"166701:136:124189327",
"166701:250:232330807",
"166701:364:336327505",
"166701:398:367070867",
"166701:453:416307070",
"166701:464:425894940",
"166701:470:430798992",
"166701:623:563729195",
"166784:11:8399344",
"166784:11:8605224",
"166784:15:12438332",
"166784:90:87614158",
"166784:182:176482234",
"166784:188:182604167",
"166784:219:212022490",
"165364:315:394407361",
"166784:262:253684764",
"166784:327:314877835",
"166784:341:327439502",
"166894:17:14569610",
"166894:63:59465144",
"165364:326:407790575",
"166894:103:96866001",
"166911:69:45979617",
"165364:345:431956467",
"166922:77:102517556",
"166922:75:99969363",
"166922:79:105574073",
"166922:89:118364547",
"166922:143:192188953",
"166922:755:948809324",
"166922:760:955119733",
"166922:626:799755543",
"166922:527:680373410",
"166922:549:707054006",
"166922:738:929899861",
"166960:5:2387028",
"166960:70:62133381",
"165364:484:602274561",
"166960:135:122980260",
"166966:64:55895814",
"166966:92:79396650",
"166966:116:100906114",
"166966:135:116907792",
"166967:19:14520856",
"166967:45:37810194",
"166967:126:107101234",
"165364:507:629956021",
"166967:170:144438315",
"167043:39:36678906",
"167043:27:24908968",
"167078:70:63768919",
"167078:88:86354242",
"167078:135:147520426",
"167098:380:412469079",
"167098:272:283544705",
"167098:307:325141675",
"167102:11:8577635",
"167102:27:26022518",
"167102:40:40045685",
"167102:143:149892429",
"167102:147:154673160",
"167102:102:106783851",
"167102:275:286611173",
"167102:261:272785603",
"167102:364:375596274",
"167102:291:302649204",
"167151:37:44442150",
"165121:152:58201792",
"165205:101:76370345",
"165415:151:156284936",
"165415:163:172145536",
"165364:630:774105309",
"165415:241:273968661",
"165415:539:633468894",
"165415:454:533214192",
"165364:689:842195727",
"165415:644:751700331",
"165415:645:752830812",
"165415:745:857220288",
"165415:816:934176681",
"165415:1095:1292396424",
"165415:1247:1478044894",
"165415:1191:1410022288",
"165415:1270:1505652107",
"165415:1348:1597086661",
"165467:74:66106915",
"165467:83:77600969",
"165467:284:353864690",
"165467:299:374072592",
"165467:217:261408034",
"165467:270:334652388",
"165467:270:334782878",
"165467:273:337936830",
"165467:253:310894668",
"165467:462:593854877",
"165467:500:642599871",
"165467:516:662876058",
"165467:635:813403235",
"165486:50:47833435",
"165486:64:67530628",
"165486:69:74432697",
"165514:168:204960100",
"165120:96:26608382",
"165514:104:106781909",
"165514:147:174173996",
"165514:126:141463915",
"165514:220:280470417",
"165514:494:676202478",
"165548:23:29092778",
"165548:54:73380339",
"165364:1033:1211014484",
"165548:152:208888550",
"165548:291:397738206",
"165548:348:473307604",
"165548:576:764731721",
"165548:405:545628531",
"165548:429:577306128",
"165548:481:643359931",
"165548:536:713927470",
"165548:585:776049980",
"165567:620:795495163",
"165567:250:307098024",
"165567:365:452885056",
"165567:376:467155480",
"165567:413:515920941",
"165567:472:591367568",
"165567:449:562584685",
"165567:509:637769692",
"165567:549:690401592",
"165570:174:230630526",
"165570:228:304891895",
"165570:228:305054403",
"165570:253:339252125",
"165570:305:408283987",
"165364:1202:1399958437",
"165570:428:570589302",
"165570:491:652226995",
"165570:505:670079514",
"165570:568:750066027",
"165570:585:769976056",
"165570:641:839207923",
"165570:659:862276626",
"165570:709:926842756",
"165364:1267:1477949824",
"165570:914:1225792665",
"165970:113:107597267",
"165970:92:78877441",
"165970:159:171276034",
"165970:137:141334539",
"165970:203:231291504",
"165993:138:136806101",
"165993:205:220399173",
"165993:125:120184686",
"165993:136:134406085",
"165993:140:139292563",
"165993:165:170032919",
"165993:177:186015921",
"165993:296:330419477",
"165993:319:357938255",
"165993:341:384402919",
"165993:579:657370297",
"165993:494:562270606",
"165993:583:662338909",
"165993:586:665998846",
"165208:71:62508867",
"165993:714:803732426",
"165993:815:911265626",
"165993:826:923231336",
"165993:1281:1373910616",
"165993:1291:1383357346",
"165993:1404:1488075857",
"165993:1430:1511702670",
"165993:1509:1583281235",
"165993:1526:1597785467",
"165993:1569:1636436009",
"166011:20:21861515",
"166011:32:37236873",
"166011:45:53004575",
"165472:167:193690065",
"166033:44:34754193",
"166033:116:146282030",
"166033:185:251434266",
"166033:145:190742605",
"166033:187:254140027",
"166033:239:330998839",
"166033:255:355036016",
"166033:346:486488907",
"166033:360:506727132",
"166033:437:614724010",
"166033:542:758418309",
"166033:588:818460584",
"166033:576:803025307",
"166033:600:835198812",
"165472:280:319165447",
"165472:303:344140624",
"166033:749:1027695713",
"166033:663:916559305",
"166033:671:927011459",
"166033:801:1092823609",
"165472:331:375574493",
"166033:964:1290797041",
"166049:68:61448270",
"166049:146:179116201",
"166049:173:217785578",
"166049:252:332896035",
"166049:314:419408184",
"166049:377:505460338",
"166049:409:549395354",
"166049:673:890153679",
"165472:579:664071795",
"166161:94:116036248",
"166346:148:172999689",
"166346:207:252756568",
"166380:103:121803031",
"166380:219:258160161",
"166380:421:486123699",
"166380:576:652418484",
"166380:595:671876022",
"166380:657:738101837",
"166380:759:843559987",
"166380:861:950007934",
"166380:955:1046927192",
"166380:1015:1106545126",
"165472:748:881631482",
"166380:904:994966680",
"166380:1153:1243936728",
"166380:1099:1190412040",
"166380:1213:1302590377",
"166380:1190:1280204758",
"166380:1292:1378617743",
"166380:1515:1586860976",
"166380:1595:1659380217",
"166380:1802:1844259731",
"165472:802:947904304",
"163255:168:117103651",
"163817:564:525983835",
"163078:9:4081021",
"160955:57:18576870",
"163232:126:26603719",
"163233:88:48611717",
"163817:658:613490574",
"163235:87:44884690",
"163235:359:181562120",
"163235:407:204854953",
"163237:206:93649916",
"163378:261:122584389",
"163255:423:283080024",
"163255:431:288153450",
"163255:484:320967546",
"163255:615:400983564",
"163261:10:4927263",
"163270:4:1620948",
"163270:126:78865343",
"163270:228:143324200",
"163270:225:141293821",
"163270:321:200334760",
"163270:461:282983988",
"163270:483:293960198",
"163270:483:293475492",
"163270:660:394556047",
"163817:677:630579795",
"163817:744:690340277",
"163817:873:799512837",
"163817:780:717817666",
"163817:900:822766486",
"163817:885:809391070",
"163817:908:829081729",
"163869:88:72728517",
"161223:147:102013187",
"161310:56:31276303",
"161107:10:6216856",
"161217:245:220468392",
"161217:263:235951785",
"161217:299:266874847",
"161217:419:365259259",
"161217:596:504582366",
"161217:655:549712359",
"161223:7:3829514",
"161223:153:106094124",
"161223:205:141765019",
"161233:42:23824234",
"161311:419:203230773",
"163659:400:300049345",
"163402:375:246403992",
"163758:255:189380779",
"163332:342:229951639",
"163332:658:443599461",
"162811:262:118423544",
"162825:88:38418083",
"162825:136:59550885",
"162909:65:20045487",
"163340:270:135890597",
"163286:156:49977046",
"163270:703:417180260",
"163270:751:443852046",
"163286:220:81952966",
"163286:345:141681734",
"163758:397:282957098",
"163296:291:182494928",
"163297:40:22763918",
"163300:51:27928783",
"163300:188:102425886",
"163300:229:123938950",
"163300:232:125646582",
"163300:257:138670755",
"163300:276:148916291",
"163302:35:17595553",
"163302:36:18004679",
"163302:176:88630703",
"163332:356:240344904",
"163332:389:263125732",
"163332:399:270416710",
"163332:402:272397279",
"163332:742:497008953",
"163332:778:519897214",
"163334:273:158947920",
"163334:276:160599133",
"163334:506:290277932",
"163337:9:4176096",
"163337:45:23490319",
"163337:113:59746808",
"163337:200:105825628",
"163337:368:191662458",
"163338:99:48128830",
"163339:11:4872222",
"163340:56:28028523",
"163369:59:41472267",
"163370:9:4907512",
"163371:8:4294103",
"163371:236:137977499",
"163371:271:159407715",
"163371:330:194084986",
"163374:203:110499273",
"163374:726:376123946",
"163374:753:389873342",
"163376:8:3621492",
"163376:179:88389995",
"163378:68:32310405",
"163378:76:36134890",
"163378:602:275398154",
"163385:67:29899995",
"163385:236:136454635",
"163385:383:223443751",
"163387:75:41148823",
"163387:156:86024616",
"163402:65:35624459",
"163402:81:47161502",
"163402:108:66180274",
"163402:119:73787711",
"163402:166:107002232",
"163402:176:113404298",
"163402:297:195644999",
"163402:298:196247161",
"163402:310:203832554",
"163402:539:349854863",
"163402:467:304944508",
"160957:810:427922367",
"163402:692:442526562",
"163475:115:75598697",
"163476:144:99661600",
"163476:160:110347959",
"163481:35:20393632",
"163481:38:22106202",
"163483:18:9585045",
"163583:28:20172743",
"163583:103:80222080",
"163585:3:1609953",
"163585:11:7097330",
"163585:12:7865298",
"163588:170:116144266",
"163588:244:166833980",
"163589:30:18622415",
"163589:83:57088755",
"163589:117:82646536",
"163630:107:42377377",
"163630:131:60085021",
"160998:106:70561288",
"163659:48:36908739",
"163659:128:99822371",
"163659:135:104686063",
"163659:286:218577126",
"163659:516:377848177",
"163659:698:499575398",
"163660:11:6636809",
"163660:72:46522010",
"163662:31:23177966",
"163664:30:19198481",
"163668:133:83044709",
"163738:199:163230652",
"163738:204:168054902",
"163758:44:31802269",
"163375:8:3384391",
"163758:96:71769338",
"163758:136:102132865",
"163758:243:181105513",
"163758:340:251318843",
"163758:399:284287496",
"163758:413:294154554",
"163758:517:365826378",
"163758:546:385483300",
"163758:547:386597571",
"163759:65:42685051",
"163759:170:111500800",
"163759:183:119604636",
"163759:406:287481241",
"163759:422:299639361",
"163759:434:308487978",
"163760:147:103413559",
"163760:221:152683630",
"163760:327:224766938",
"163761:85:55497774",
"163765:95:57733280",
"163765:141:86170766",
"163765:306:185908260",
"163795:11:8633986",
"163796:42:40603046",
"163796:171:164595209",
"163817:216:198315854",
"163817:275:257425600",
"163817:267:249433220",
"163817:392:373312579",
"163817:383:363895697",
"163817:397:378084407",
"163817:624:581734803",
"163817:862:789777464"
]
)


print process.source

process.options   = cms.untracked.PSet( wantSummary = cms.untracked.bool(False))

process.maxEvents = cms.untracked.PSet( input = cms.untracked.int32(-1) )


process.load("Configuration.EventContent.EventContent_cff")
process.out = cms.OutputModule(
    "PoolOutputModule",
    # process.RECOSIMEventContent,
    outputCommands =  cms.untracked.vstring( 'keep *',
                                             # the following is much, much overhead
                                             'drop *_lumiProducer_*_*'
                                             ),
    fileName = cms.untracked.string('selectVEventRange_'+tag+'_out.root'),
    )

process.endpath = cms.EndPath(
    process.out
    )


process.load("FWCore.MessageLogger.MessageLogger_cfi")
process.MessageLogger.cerr.FwkReport.reportEvery = 1


outFile = open('selectVEventRange_' + tag + '_source.py','w')
outFile.write('import FWCore.ParameterSet.Config as cms\n')
outFile.write(process.source.dumpPython() )
outFile.close()
